# v0.6.0-alpha.1 Release Dossier

`v0.6.0-alpha.1` focuses on operations hardening and evidence automation on top of the `v0.5.x` runtime-controls baseline.

## Scope

- Provider parity matrix promoted as a first-class CI release gate with persisted artifacts.
- Webhook dead-letter durability defaults hardened for `sqlite` backend and retention pruning.
- Webhook replay and retention metric panels added to Grafana dashboard assets.
- Weekly evidence report generation automated through scheduled GitHub Actions.
- Weekly report index auto-maintained from generated artifacts.
- SharePoint connector extended with managed-identity authentication mode.

## Included Components

- CI parity jobs and summary artifact flow:
  - `.github/workflows/ci.yml`
  - `scripts/provider_parity_matrix.py`
- Weekly evidence automation:
  - `.github/workflows/weekly-evidence-report.yml`
  - `scripts/generate_weekly_evidence_report.py`
  - `scripts/update_weekly_reports_index.py`
- Webhook durability and replay:
  - `app/webhooks/dead_letter_store.py`
  - `scripts/replay_webhook_dead_letter.py`
- SharePoint managed identity:
  - `app/rag/connectors/sharepoint.py`
  - `docs/operations/sharepoint-connector.md`
- Observability dashboard additions:
  - `deploy/observability/grafana-dashboard-configmap.yaml`

## Migration Notes from v0.5.x

### 1) SharePoint Authentication Mode

`v0.5.x` used bearer-token-only SharePoint auth. `v0.6.0-alpha.1` introduces explicit auth mode selection:

```bash
SRG_RAG_SHAREPOINT_AUTH_MODE=bearer_token # bearer_token|managed_identity
```

Bearer-token mode remains backward-compatible:

```bash
SRG_RAG_SHAREPOINT_BEARER_TOKEN=<graph-api-token>
```

Managed identity mode (tokenless runtime credential path):

```bash
SRG_RAG_SHAREPOINT_AUTH_MODE=managed_identity
SRG_RAG_SHAREPOINT_MANAGED_IDENTITY_ENDPOINT=http://169.254.169.254/metadata/identity/oauth2/token
SRG_RAG_SHAREPOINT_MANAGED_IDENTITY_RESOURCE=https://graph.microsoft.com/
SRG_RAG_SHAREPOINT_MANAGED_IDENTITY_API_VERSION=2018-02-01
SRG_RAG_SHAREPOINT_MANAGED_IDENTITY_CLIENT_ID=<optional-user-assigned-client-id>
SRG_RAG_SHAREPOINT_MANAGED_IDENTITY_TIMEOUT_S=3.0
```

### 2) Webhook Dead-letter Defaults

`sqlite` remains the default backend and is now documented as the primary durability path:

```bash
SRG_WEBHOOK_DEAD_LETTER_BACKEND=sqlite
SRG_WEBHOOK_DEAD_LETTER_PATH=artifacts/audit/webhook_dead_letter.db
SRG_WEBHOOK_DEAD_LETTER_RETENTION_DAYS=30
```

Replay CLI remains compatible with both `sqlite` and `jsonl` backends.

### 3) Evidence Automation

Weekly reporting is now intended to run through:

- `.github/workflows/weekly-evidence-report.yml` (schedule + manual dispatch)
- auto-generated `docs/benchmarks/reports/weekly-YYYY-MM-DD.md`
- auto-maintained `docs/benchmarks/reports/index.md`

### 4) Dashboard Coverage

Runtime-controls observability now includes dedicated webhook replay/retention panels:

- `Webhook Delivery Attempts (rate)`
- `Dead-letter Record Rate`
- `Dead-letter Pruned (24h)`

## Known Limitations

- SharePoint managed identity flow uses Azure IMDS-compatible token endpoint assumptions.
- Weekly evidence workflow depends on GitHub API availability and repository token permissions.
- Provider parity matrix is capability-shape focused and does not benchmark quality semantics.
