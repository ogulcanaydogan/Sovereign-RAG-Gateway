# v0.2.0-rc1 Release Notes

Date: 2026-02-18

## Highlights
- Added pgvector connector and retrieval path for RAG citations.
- Added citation evaluation gate with CI threshold enforcement.
- Added provider-backed ingestion support for pgvector indexing through OpenAI-compatible `/v1/embeddings`.
- Added pgvector ranking quality evaluation script and report output.
- Added migration smoke checks for `v0.2.0-rc1` compatibility.

## Breaking/Behavior Changes
- Postgres retrieval now uses configurable embedding generators:
  - `hash` (default)
  - `http` (OpenAI-compatible embedding endpoint)
- New settings were added for pgvector embedding source configuration:
  - `SRG_RAG_EMBEDDING_SOURCE`
  - `SRG_RAG_EMBEDDING_ENDPOINT`
  - `SRG_RAG_EMBEDDING_MODEL`
  - `SRG_RAG_EMBEDDING_API_KEY`
  - `SRG_RAG_EMBEDDING_TENANT_ID`
  - `SRG_RAG_EMBEDDING_USER_ID`
  - `SRG_RAG_EMBEDDING_CLASSIFICATION`

## Migration Checks
Run:

```bash
uv run python scripts/check_migration_v020rc1.py
```

Expected result:
- `checks_passed: true`
- contracts exist
- `/healthz`, `/readyz`, `/v1/models` respond correctly
- unauthorized calls return deterministic error envelope

## Suggested Validation
1. Rebuild filesystem and postgres indexes.
2. Re-run citation eval gate.
3. Run pgvector ranking eval.

```bash
uv run python scripts/generate_synthetic_healthcare_corpus.py --output-dir benchmarks/data/synthetic_corpus
uv run python scripts/rag_ingest.py --input-dir benchmarks/data/synthetic_corpus --output artifacts/rag/filesystem_index.jsonl
uv run python scripts/rag_ingest.py --connector postgres --input-dir benchmarks/data/synthetic_corpus --postgres-dsn "$SRG_TEST_POSTGRES_DSN" --postgres-table rag_chunks
uv run python scripts/eval_citations.py --dataset benchmarks/data/citation_eval.jsonl --threshold 0.95
uv run python scripts/eval_pgvector_ranking.py --dataset benchmarks/data/pgvector_ranking_eval.jsonl --postgres-dsn "$SRG_TEST_POSTGRES_DSN" --postgres-table rag_chunks --threshold 0.8
```
