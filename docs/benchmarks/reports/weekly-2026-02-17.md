# Weekly Benchmark and Quality Report (2026-02-18)

## Scope
- Week-6 RC track for governed RAG.
- Added pgvector connector, Postgres integration tests, and citation quality CI gate.

## Test Summary
- `ruff check .`: pass
- `mypy app scripts`: pass
- `pytest`: pass (includes Postgres integration tests when `SRG_TEST_POSTGRES_DSN` is configured)
- `scripts/validate_schemas.py`: pass
- `scripts/compose_smoke.sh`: pass

## Benchmark Snapshot
- Gateway scenario runs: `direct_provider`, `observe_mode`, `enforce_redact`
- Citation eval dataset: `benchmarks/data/citation_eval.jsonl`
- Citation gate threshold: `>=0.95`
- Generated artifacts:
  - `artifacts/benchmarks/citation_eval.json`
  - `docs/benchmarks/reports/citations-latest.md`

## Retrieval Snapshot
- Connector support: `filesystem`, `postgres`
- Ingestion commands:
  - `python3 scripts/generate_synthetic_healthcare_corpus.py --output-dir benchmarks/data/synthetic_corpus`
  - `python3 scripts/rag_ingest.py --input-dir benchmarks/data/synthetic_corpus --output artifacts/rag/filesystem_index.jsonl`
  - `python3 scripts/rag_ingest.py --connector postgres --input-dir benchmarks/data/synthetic_corpus --postgres-dsn <dsn>`
- API behavior: RAG-enabled chat requests include `choices[].message.citations[]` for both filesystem and Postgres connectors.

## Known Limitations
- Retrieval ranking is deterministic-hash baseline until provider embeddings are integrated.
- Postgres connector assumes pgvector extension is available in target database.
- Benchmark harness still uses synthetic load characteristics.
